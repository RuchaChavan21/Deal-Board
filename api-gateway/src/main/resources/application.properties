# ===============================
# Server Configuration
# ===============================
server.port=8080
spring.application.name=api-gateway
spring.main.web-application-type=reactive

# ===============================
# Spring Cloud Gateway Routes
# ===============================

# Auth Service
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**

# User Service
spring.cloud.gateway.routes[1].id=user-service
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/users/**

# Organization Service
spring.cloud.gateway.routes[2].id=organization-service
spring.cloud.gateway.routes[2].uri=http://localhost:8083
spring.cloud.gateway.routes[2].predicates[0]=Path=/orgs/**

# Customer Service
spring.cloud.gateway.routes[3].id=customer-service
spring.cloud.gateway.routes[3].uri=http://localhost:8084
spring.cloud.gateway.routes[3].predicates[0]=Path=/customers/**

# Deal Service
spring.cloud.gateway.routes[4].id=deal-service
spring.cloud.gateway.routes[4].uri=http://localhost:8085
spring.cloud.gateway.routes[4].predicates[0]=Path=/deals/**

# Task Service
spring.cloud.gateway.routes[5].id=task-service
spring.cloud.gateway.routes[5].uri=http://localhost:8086
spring.cloud.gateway.routes[5].predicates[0]=Path=/tasks/**

jwt.secret=dealboard-secret-key-dealboard-secret-key

# ===============================
# Global CORS Configuration
# ===============================
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedOrigins=http://localhost:3000
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedHeaders=Authorization,Content-Type,X-USER-ID,X-ORG-ID,X-ROLE
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowCredentials=true
